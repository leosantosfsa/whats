const a680_0x1f137f=a680_0x550c;(function(_0x230ba5,_0x2461a3){const _0x4375bd=a680_0x550c,_0x16f868=_0x230ba5();while(!![]){try{const _0x5e37ad=parseInt(_0x4375bd(0x150))/0x1+-parseInt(_0x4375bd(0xff))/0x2+parseInt(_0x4375bd(0xcc))/0x3*(-parseInt(_0x4375bd(0x106))/0x4)+parseInt(_0x4375bd(0x142))/0x5+parseInt(_0x4375bd(0x10b))/0x6*(-parseInt(_0x4375bd(0x176))/0x7)+-parseInt(_0x4375bd(0x167))/0x8+-parseInt(_0x4375bd(0xd6))/0x9*(-parseInt(_0x4375bd(0x118))/0xa);if(_0x5e37ad===_0x2461a3)break;else _0x16f868['push'](_0x16f868['shift']());}catch(_0x2f0309){_0x16f868['push'](_0x16f868['shift']());}}}(a680_0x4b08,0x2f4fe));function a680_0x4b08(){const _0x2e907c=['xFcnT','configurable','rVqkR','error','apply','isImportModalOpen','IgpzG','ERR_WAPP_GREETING_REQUIRED','MpqZG','table','IajIg','uiZFk','ypbic','expiresTicket','hxlOT','message','wLSTj','cgIuN','call','min','NncPX','bUshx','tokenMeta','../../models/Plan','tJmsw','boolean','oldDefaultWhatsapp','beta','../../models/Whatsapp','ZzRRu','OPENING','__importStar','KsJiZ','__esModule','eRskA','518132rzhGQd','NafJd','__setModuleDefault','JxLOm','ZDPce','Cqumr','Mjnce','146108MhCiXw','where','defineProperty','__createBinding','findOne','6smdXni','uYIyl','facebookUserId','ntigs','VoHJK','CAfZp','ymmwT','dmFJr','FbtLt','PvkST','n8nCredential','facebookUserToken','model','214940STQLas','zGaMJ','Ogueq','create','function\x20*\x5c(\x20*\x5c)','plan','name','PFVvI','default','snhCk','Esse\x20nome\x20já\x20está\x20sendo\x20utilizado\x20por\x20outra\x20conexão','string','isDefault','qUUcF','flAEp','isActive','prototype','greetingMessage','update','debu','TvKKP','gger','VEsVS','ratingMessage','SBHjQ','include','__proto__','lLSIr','HFYMz','zqzjN','whatsapp','iKdKI','input','yjmrH','HdpLF','oexUn','bind','object','minutes','JTNEp','JpNpH','token','1115310pZRpVP','This\x20whatsapp\x20token\x20is\x20already\x20used.','channel','kjGrT','KLTTJ','gNUmx','qYsYF','Número\x20máximo\x20de\x20conexões\x20já\x20alcançado:\x20','JTnFu','ZFcoU','ervQt','IwsVy','OzcKA','../../errors/AppError','189871Eiooya','EhwwB','constructor','exception','connections','KWWxR','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','AhpiO','info','Aypwc','bvqMi','init','inzPf','chain','promptId','zrtJr','OaeFw','JEBBY','OEWYZ','UjwpT','console','ELlVY','facebookPageUserId','141608NflPWN','counter','URAMz','search','jHcQY','n8nEnabled','hwdbf','count','hZTue','stateObject','getOwnPropertyDescriptor','action','vqOvp','UTJGu','Semsq','2531011ZkQcEX','jfeMn','Check-token','JNFOe','log','HRWoB','PpTPv','qlBCM','EXijF','BzSen','FSRHF','EKSmS','hXCKL','HdVIm','trace','companyId','required','rsvNo','xHHcR','toString','IjLDW','status','khxKL','titlelist','NMUHW','rIauF','selectedfila','xrndI','zzKbK','(((.+)+)+)+$','PRqjz','aZahN','typebotEnabled','GiBME','NrMXY','while\x20(true)\x20{}','eGWcb','QLvJW','ftLnV','cseGk','Check-name','ShUdX','value','PyQHd','test','15PQmrce','shape','tTixX','RNJLx','get','enumerable','length','wVrOI','__importDefault','AnYmR','252PdeyPA','MLFgb','rQbbE','CEgza','NDghO','SGJtM'];a680_0x4b08=function(){return _0x2e907c;};return a680_0x4b08();}const a680_0x278288=(function(){const _0x3b8426=a680_0x550c,_0x46fc91={};_0x46fc91[_0x3b8426(0xb0)]=function(_0x3496ef,_0x43b747){return _0x3496ef+_0x43b747;},_0x46fc91[_0x3b8426(0xb3)]=_0x3b8426(0x12b),_0x46fc91['qUUcF']=_0x3b8426(0x12d),_0x46fc91[_0x3b8426(0xe8)]='stateObject',_0x46fc91[_0x3b8426(0xec)]=_0x3b8426(0x172),_0x46fc91[_0x3b8426(0xab)]=function(_0x66a33d,_0xec4e3d){return _0x66a33d!==_0xec4e3d;},_0x46fc91[_0x3b8426(0x140)]=_0x3b8426(0x121),_0x46fc91[_0x3b8426(0x174)]=_0x3b8426(0xfc),_0x46fc91[_0x3b8426(0x15f)]='vnvYU',_0x46fc91[_0x3b8426(0x13f)]=_0x3b8426(0xc8);const _0x45e70f=_0x46fc91;let _0x1f3e26=!![];return function(_0x1bc568,_0x26e56f){const _0x25f7d5=_0x3b8426,_0x3ef63a={'GiBME':_0x45e70f[_0x25f7d5(0xb3)],'HFYMz':_0x45e70f[_0x25f7d5(0xec)],'Mjnce':function(_0x65b071,_0x366ea7){return _0x45e70f['hXCKL'](_0x65b071,_0x366ea7);},'SBHjQ':_0x45e70f['JpNpH'],'PpTPv':_0x45e70f['UTJGu']};if(_0x45e70f[_0x25f7d5(0x15f)]===_0x45e70f[_0x25f7d5(0x13f)])(function(){return![];}['constructor'](_0x45e70f[_0x25f7d5(0xb0)](_0x45e70f['IjLDW'],_0x45e70f[_0x25f7d5(0x125)]))[_0x25f7d5(0xe0)](_0x45e70f[_0x25f7d5(0xe8)]));else{const _0x209be1=_0x1f3e26?function(){const _0x235e8e=_0x25f7d5,_0x972390={};_0x972390[_0x235e8e(0x15c)]=_0x3ef63a[_0x235e8e(0xc0)],_0x972390['bAyCp']=_0x3ef63a[_0x235e8e(0x134)];const _0x8edb2c=_0x972390;if(_0x3ef63a[_0x235e8e(0x105)](_0x3ef63a[_0x235e8e(0x130)],_0x3ef63a[_0x235e8e(0x17c)])){if(_0x26e56f){const _0x1b9c1e=_0x26e56f[_0x235e8e(0xe0)](_0x1bc568,arguments);return _0x26e56f=null,_0x1b9c1e;}}else(function(){return!![];}[_0x235e8e(0x152)](_0x8edb2c['inzPf']+_0x235e8e(0x12d))[_0x235e8e(0xee)](_0x8edb2c['bAyCp']));}:function(){};return _0x1f3e26=![],_0x209be1;}};}()),a680_0x20fe41=a680_0x278288(this,function(){const _0x271e44=a680_0x550c,_0x16410b={};_0x16410b['JpWES']=_0x271e44(0xbc);const _0x18d6c1=_0x16410b;return a680_0x20fe41[_0x271e44(0xb2)]()[_0x271e44(0x16a)](_0x18d6c1['JpWES'])[_0x271e44(0xb2)]()[_0x271e44(0x152)](a680_0x20fe41)[_0x271e44(0x16a)]('(((.+)+)+)+$');});a680_0x20fe41();const a680_0x281ee0=(function(){let _0x546d8c=!![];return function(_0x5c1563,_0x446904){const _0x4f86f1=_0x546d8c?function(){const _0x51355d=a680_0x550c;if(_0x446904){const _0x383479=_0x446904[_0x51355d(0xe0)](_0x5c1563,arguments);return _0x446904=null,_0x383479;}}:function(){};return _0x546d8c=![],_0x4f86f1;};}());(function(){const _0x44f4be=a680_0x550c,_0x2e1084={'flAEp':function(_0x40692c,_0x562538){return _0x40692c(_0x562538);},'OzcKA':_0x44f4be(0x15b),'WLZjW':'chain','uiZFk':function(_0x3693b4,_0x4e6280){return _0x3693b4+_0x4e6280;},'rIauF':_0x44f4be(0x138),'YGcRy':function(_0x4c5910){return _0x4c5910();},'RdYwo':function(_0x2dfeea,_0x58c189,_0x34b116){return _0x2dfeea(_0x58c189,_0x34b116);}};_0x2e1084['RdYwo'](a680_0x281ee0,this,function(){const _0x5a0303=_0x44f4be,_0x2ed569=new RegExp(_0x5a0303(0x11c)),_0x58c33f=new RegExp(_0x5a0303(0x156),'i'),_0x3d9d58=_0x2e1084[_0x5a0303(0x126)](a680_0xa9fb42,_0x2e1084[_0x5a0303(0x14e)]);!_0x2ed569[_0x5a0303(0xcb)](_0x3d9d58+_0x2e1084['WLZjW'])||!_0x58c33f['test'](_0x2e1084[_0x5a0303(0xe7)](_0x3d9d58,_0x2e1084[_0x5a0303(0xb8)]))?_0x2e1084[_0x5a0303(0x126)](_0x3d9d58,'0'):_0x2e1084['YGcRy'](a680_0xa9fb42);})();}());function a680_0x550c(_0x51ea12,_0x153486){const _0xd92408=a680_0x4b08();return a680_0x550c=function(_0x28096e,_0x3a516d){_0x28096e=_0x28096e-0xa9;let _0x5c2b1f=_0xd92408[_0x28096e];return _0x5c2b1f;},a680_0x550c(_0x51ea12,_0x153486);}const a680_0x3a516d=(function(){const _0x5aa375=a680_0x550c,_0x4d6419={'uYIyl':_0x5aa375(0x15b),'AhpiO':_0x5aa375(0x138),'Semsq':function(_0x42b596){return _0x42b596();},'FbtLt':_0x5aa375(0x145),'CAfZp':_0x5aa375(0xf4)};let _0x1fec07=!![];return function(_0x25d0d1,_0x28fcca){const _0xb4a240=_0x5aa375,_0x48fe57={'QLvJW':_0x4d6419[_0xb4a240(0x10c)],'VoHJK':_0x4d6419[_0xb4a240(0x157)],'TgVyK':function(_0x42c0d5){const _0x19a28e=_0xb4a240;return _0x4d6419[_0x19a28e(0x175)](_0x42c0d5);},'hxlOT':function(_0x528879,_0x39e83d){return _0x528879===_0x39e83d;},'TvKKP':_0xb4a240(0x147),'RNJLx':_0x4d6419[_0xb4a240(0x113)]};if(_0x4d6419[_0xb4a240(0x110)]===_0x4d6419[_0xb4a240(0x110)]){const _0x28b420=_0x1fec07?function(){const _0xd509b=_0xb4a240,_0x1563fe={'xHHcR':_0xd509b(0x11c),'iSfAH':_0x48fe57[_0xd509b(0xc4)],'zGaMJ':function(_0x2ff210,_0x35d19f){return _0x2ff210+_0x35d19f;},'bvqMi':_0xd509b(0x15d),'PRqjz':_0x48fe57[_0xd509b(0x10f)],'IajIg':function(_0x4f7865){return _0x48fe57['TgVyK'](_0x4f7865);}};if(_0x48fe57[_0xd509b(0xea)](_0x48fe57[_0xd509b(0x12c)],_0x48fe57[_0xd509b(0xcf)])){const _0x266eb0=new _0x5e76f2(_0x1563fe[_0xd509b(0xb1)]),_0x2cc033=new _0x2bb16a(_0xd509b(0x156),'i'),_0x1b9017=_0x2133c6(_0x1563fe['iSfAH']);!_0x266eb0[_0xd509b(0xcb)](_0x1563fe[_0xd509b(0x119)](_0x1b9017,_0x1563fe[_0xd509b(0x15a)]))||!_0x2cc033['test'](_0x1b9017+_0x1563fe[_0xd509b(0xbd)])?_0x1b9017('0'):_0x1563fe[_0xd509b(0xe6)](_0x1d6c7d);}else{if(_0x28fcca){const _0x35f6f1=_0x28fcca[_0xd509b(0xe0)](_0x25d0d1,arguments);return _0x28fcca=null,_0x35f6f1;}}}:function(){};return _0x1fec07=![],_0x28b420;}else{const _0x3f6735=_0x47f49d['apply'](_0x3e66df,arguments);return _0x4b20b7=null,_0x3f6735;}};}()),a680_0x28096e=a680_0x3a516d(this,function(){const _0x3a2abf=a680_0x550c,_0xd25228={'HRWoB':_0x3a2abf(0xbc),'JZDvX':function(_0x53d73d,_0x6c2e77){return _0x53d73d(_0x6c2e77);},'xFcnT':function(_0x20960b,_0x18748c){return _0x20960b+_0x18748c;},'PFVvI':'return\x20(function()\x20','ZFcoU':'{}.constructor(\x22return\x20this\x22)(\x20)','aZahN':function(_0xbcfaf6,_0x4edfff){return _0xbcfaf6!==_0x4edfff;},'UjwpT':_0x3a2abf(0xc6),'zzKbK':_0x3a2abf(0x17a),'JxLOm':'warn','sloFN':_0x3a2abf(0x158),'JNFOe':_0x3a2abf(0x153),'mjRIu':_0x3a2abf(0xe5),'OXwGg':_0x3a2abf(0xad),'FTkwd':function(_0x3b22ea,_0x2bbc7a){return _0x3b22ea===_0x2bbc7a;},'rVqkR':_0x3a2abf(0x137),'PyQHd':'UqVNY'};let _0x4f5bcb;try{const _0x17821e=_0xd25228['JZDvX'](Function,_0xd25228[_0x3a2abf(0xdc)](_0xd25228[_0x3a2abf(0x11f)],_0xd25228[_0x3a2abf(0x14b)])+');');_0x4f5bcb=_0x17821e();}catch(_0x4c57a1){if(_0xd25228[_0x3a2abf(0xbe)](_0xd25228[_0x3a2abf(0x163)],_0xd25228[_0x3a2abf(0x163)])){const _0x1745fd={};_0x1745fd[_0x3a2abf(0xd1)]=!![],_0x1745fd[_0x3a2abf(0xc9)]=_0x2e88ca,_0x21f471['defineProperty'](_0x5f1ff2,_0x3a2abf(0x120),_0x1745fd);}else _0x4f5bcb=window;}const _0x442b7=_0x4f5bcb[_0x3a2abf(0x164)]=_0x4f5bcb['console']||{},_0x5af28e=[_0xd25228[_0x3a2abf(0xbb)],_0xd25228[_0x3a2abf(0x102)],_0xd25228['sloFN'],_0x3a2abf(0xdf),_0xd25228[_0x3a2abf(0x179)],_0xd25228['mjRIu'],_0xd25228['OXwGg']];for(let _0x391966=0x0;_0x391966<_0x5af28e['length'];_0x391966++){if(_0xd25228['FTkwd'](_0xd25228[_0x3a2abf(0xde)],_0xd25228[_0x3a2abf(0xca)]))return _0x277be7['toString']()[_0x3a2abf(0x16a)](_0x3a2abf(0xbc))[_0x3a2abf(0xb2)]()[_0x3a2abf(0x152)](_0x321322)[_0x3a2abf(0x16a)](_0xd25228[_0x3a2abf(0x17b)]);else{const _0x510146=a680_0x3a516d[_0x3a2abf(0x152)]['prototype'][_0x3a2abf(0x13c)](a680_0x3a516d),_0x2d2e95=_0x5af28e[_0x391966],_0x17fe8d=_0x442b7[_0x2d2e95]||_0x510146;_0x510146[_0x3a2abf(0x132)]=a680_0x3a516d[_0x3a2abf(0x13c)](a680_0x3a516d),_0x510146['toString']=_0x17fe8d[_0x3a2abf(0xb2)][_0x3a2abf(0x13c)](_0x17fe8d),_0x442b7[_0x2d2e95]=_0x510146;}}});a680_0x28096e();'use strict';var __createBinding=this&&this[a680_0x1f137f(0x109)]||(Object[a680_0x1f137f(0x11b)]?function(_0x290e92,_0x3d8580,_0xb3cf69,_0x14ea2f){const _0x5b8b40=a680_0x1f137f,_0x5421d8={'NncPX':function(_0xef3e99,_0x5d9e6e){return _0xef3e99!==_0x5d9e6e;},'CEgza':_0x5b8b40(0x111),'BzSen':function(_0x2a39cb,_0x1a23b6){return _0x2a39cb(_0x1a23b6);},'PvkST':function(_0x100804,_0x579187){return _0x100804 in _0x579187;},'CMwpK':_0x5b8b40(0xd0),'AnYmR':function(_0x22402f,_0x1d3b60){return _0x22402f===_0x1d3b60;},'NMUHW':_0x5b8b40(0x13b)};if(_0x14ea2f===undefined)_0x14ea2f=_0xb3cf69;var _0x402c6b=Object[_0x5b8b40(0x171)](_0x3d8580,_0xb3cf69);(!_0x402c6b||(_0x5421d8[_0x5b8b40(0x114)](_0x5421d8['CMwpK'],_0x402c6b)?!_0x3d8580[_0x5b8b40(0xfd)]:_0x402c6b['writable']||_0x402c6b[_0x5b8b40(0xdd)]))&&(_0x5421d8[_0x5b8b40(0xd5)](_0x5421d8[_0x5b8b40(0xb7)],_0x5421d8['NMUHW'])?_0x402c6b={'enumerable':!![],'get':function(){const _0x10983a=_0x5b8b40;return _0x5421d8[_0x10983a(0xf0)](_0x5421d8[_0x10983a(0xd9)],_0x5421d8[_0x10983a(0xd9)])?![]:_0x3d8580[_0xb3cf69];}}:yJqrsL[_0x5b8b40(0x17f)](_0x56d153,'0')),Object[_0x5b8b40(0x108)](_0x290e92,_0x14ea2f,_0x402c6b);}:function(_0xe70196,_0x56e6e2,_0x51cbf3,_0x3e9b3a){const _0x56a1e7=a680_0x1f137f,_0x380bb5={};_0x380bb5[_0x56a1e7(0xe2)]=function(_0x486144,_0x3275bc){return _0x486144===_0x3275bc;};const _0x3a658d=_0x380bb5;if(_0x3a658d[_0x56a1e7(0xe2)](_0x3e9b3a,undefined))_0x3e9b3a=_0x51cbf3;_0xe70196[_0x3e9b3a]=_0x56e6e2[_0x51cbf3];}),__setModuleDefault=this&&this[a680_0x1f137f(0x101)]||(Object['create']?function(_0x368ff9,_0x5496d2){const _0x4e6a3f=a680_0x1f137f,_0x4e268a={};_0x4e268a[_0x4e6a3f(0x17e)]=_0x4e6a3f(0x120);const _0x3f5e9f=_0x4e268a,_0x24ef1c={};_0x24ef1c[_0x4e6a3f(0xd1)]=!![],_0x24ef1c['value']=_0x5496d2,Object['defineProperty'](_0x368ff9,_0x3f5e9f['EXijF'],_0x24ef1c);}:function(_0x4c38b,_0x4617bb){const _0xe01c6c=a680_0x1f137f;_0x4c38b[_0xe01c6c(0x120)]=_0x4617bb;}),__importStar=this&&this[a680_0x1f137f(0xfb)]||function(_0xce1deb){const _0x560433=a680_0x1f137f,_0x580075={'LXIqz':'4|0|1|3|2','Cqumr':function(_0x313601,_0x3c3603){return _0x313601!=_0x3c3603;},'wVrOI':'default','qYsYF':function(_0x4d8c4c,_0x29d7c6,_0x390ed2,_0x199ec2){return _0x4d8c4c(_0x29d7c6,_0x390ed2,_0x199ec2);},'QaNoe':function(_0x2126e2,_0x52dfe6,_0x567a7e){return _0x2126e2(_0x52dfe6,_0x567a7e);}},_0x2418ee=_0x580075['LXIqz']['split']('|');let _0x525761=0x0;while(!![]){switch(_0x2418ee[_0x525761++]){case'0':var _0x294c5f={};continue;case'1':if(_0x580075[_0x560433(0x104)](_0xce1deb,null)){for(var _0x58b2fb in _0xce1deb)if(_0x58b2fb!==_0x580075[_0x560433(0xd3)]&&Object[_0x560433(0x128)]['hasOwnProperty'][_0x560433(0xee)](_0xce1deb,_0x58b2fb))_0x580075[_0x560433(0x148)](__createBinding,_0x294c5f,_0xce1deb,_0x58b2fb);}continue;case'2':return _0x294c5f;case'3':_0x580075['QaNoe'](__setModuleDefault,_0x294c5f,_0xce1deb);continue;case'4':if(_0xce1deb&&_0xce1deb[_0x560433(0xfd)])return _0xce1deb;continue;}break;}},__importDefault=this&&this[a680_0x1f137f(0xd4)]||function(_0x53465e){const _0x7cc9c7=a680_0x1f137f;return _0x53465e&&_0x53465e[_0x7cc9c7(0xfd)]?_0x53465e:{'default':_0x53465e};};const a680_0x343923={};a680_0x343923[a680_0x1f137f(0xc9)]=!![],Object[a680_0x1f137f(0x108)](exports,'__esModule',a680_0x343923);const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a680_0x1f137f(0x14f))),Whatsapp_1=__importDefault(require(a680_0x1f137f(0xf8))),Company_1=__importDefault(require('../../models/Company')),Plan_1=__importDefault(require(a680_0x1f137f(0xf3))),AssociateWhatsappQueue_1=__importDefault(require('./AssociateWhatsappQueue')),CreateWhatsAppService=async({name:_0x1a3431,status:status=a680_0x1f137f(0xfa),queueIds:queueIds=[],greetingMessage:_0x2535cf,titlelist:_0x4b5b9a,complationMessage:_0x48bf60,outOfHoursMessage:_0x555151,ratingMessage:_0xe7bd7c,isDefault:isDefault=![],companyId:_0x299f17,token:token='',provider:provider=a680_0x1f137f(0xf7),facebookUserId:_0x4e0250,facebookUserToken:_0x40936a,facebookPageUserId:_0xfbe1e5,tokenMeta:_0x3991d7,channel:channel=a680_0x1f137f(0x136),maxUseBotQueues:_0x2c0e99,expiresTicket:_0x55792b,chatGPTEnabled:chatGPTEnabled=![],typebotEnabled:typebotEnabled=![],n8nEnabled:n8nEnabled=![],typingEnabled:typingEnabled=![],isActive:isActive=![],isImportModalOpen:isImportModalOpen=![],typebotCredential:typebotCredential='',promptId:_0x101b9f,integrationId:_0x1f680a,n8nCredential:n8nCredential='',selectedfila:selectedfila='',yesNoValue:yesNoValue='',minutes:minutes=''})=>{const _0x2b03ce=a680_0x1f137f,_0x30d0ad={'KWWxR':function(_0x3ba6b1,_0x3609c2){return _0x3ba6b1(_0x3609c2);},'bUshx':_0x2b03ce(0x11d),'lLSIr':function(_0x50cb0a,_0x45f277){return _0x50cb0a!==_0x45f277;},'Ogueq':function(_0x457f8a,_0x516828){return _0x457f8a>=_0x516828;},'ftLnV':function(_0xf52887,_0x585b6d){return _0xf52887===_0x585b6d;},'EKSmS':_0x2b03ce(0x135),'JTnFu':_0x2b03ce(0xc7),'OaeFw':_0x2b03ce(0x122),'lGokk':function(_0x5b0c06,_0x3cecc6){return _0x5b0c06===_0x3cecc6;},'xRIcv':'uJumh','OEWYZ':function(_0x40a690,_0x4acea7){return _0x40a690===_0x4acea7;},'NafJd':'whatsapp','khxKL':_0x2b03ce(0x178),'MLFgb':_0x2b03ce(0x143),'bCXME':_0x2b03ce(0x14c),'EhwwB':function(_0x2d6af3,_0x3d5cac){return _0x2d6af3!==_0x3d5cac;},'yjmrH':_0x2b03ce(0x13a),'HdVIm':_0x2b03ce(0x165)},_0x398907={};_0x398907['id']=_0x299f17;const _0x49cff7={};_0x49cff7[_0x2b03ce(0x117)]=Plan_1[_0x2b03ce(0x120)],_0x49cff7['as']=_0x30d0ad[_0x2b03ce(0xf1)];const _0x378efb={};_0x378efb[_0x2b03ce(0x107)]=_0x398907,_0x378efb[_0x2b03ce(0x131)]=[_0x49cff7];const _0x52c80c=await Company_1[_0x2b03ce(0x120)][_0x2b03ce(0x10a)](_0x378efb);if(_0x30d0ad[_0x2b03ce(0x133)](_0x52c80c,null)){const _0x5f39af={};_0x5f39af[_0x2b03ce(0xae)]=_0x299f17,_0x5f39af[_0x2b03ce(0x144)]=channel;const _0x82d429={};_0x82d429['where']=_0x5f39af;const _0x49b1dc=await Whatsapp_1['default'][_0x2b03ce(0x16e)](_0x82d429);if(_0x30d0ad[_0x2b03ce(0x11a)](_0x49b1dc,_0x52c80c[_0x2b03ce(0x11d)][_0x2b03ce(0x154)])){if(_0x30d0ad[_0x2b03ce(0xc5)]('zqzjN',_0x30d0ad[_0x2b03ce(0xaa)]))throw new AppError_1[(_0x2b03ce(0x120))](_0x2b03ce(0x149)+_0x49b1dc);else return!![];}}const _0x305aba=Yup[_0x2b03ce(0x13d)]()[_0x2b03ce(0xcd)]({'name':Yup[_0x2b03ce(0x123)]()[_0x2b03ce(0xaf)]()[_0x2b03ce(0xef)](0x2)['test'](_0x30d0ad[_0x2b03ce(0x14a)],_0x30d0ad[_0x2b03ce(0x160)],async _0x1f8449=>{const _0x4dfa96=_0x2b03ce;if(!_0x1f8449)return![];const _0x430e0e={};_0x430e0e[_0x4dfa96(0x11e)]=_0x1f8449,_0x430e0e[_0x4dfa96(0x144)]=channel;const _0x314576={};_0x314576[_0x4dfa96(0x107)]=_0x430e0e;const _0x3a4d19=await Whatsapp_1[_0x4dfa96(0x120)][_0x4dfa96(0x10a)](_0x314576);return!_0x3a4d19;}),'isDefault':Yup[_0x2b03ce(0xf5)]()[_0x2b03ce(0xaf)]()});try{const _0x4b6eb9={};_0x4b6eb9[_0x2b03ce(0x11e)]=_0x1a3431,_0x4b6eb9[_0x2b03ce(0xb4)]=status,_0x4b6eb9[_0x2b03ce(0x124)]=isDefault,await _0x305aba['validate'](_0x4b6eb9);}catch(_0x441e13){if(_0x30d0ad['lGokk'](_0x2b03ce(0xd8),_0x30d0ad['xRIcv']))_0x1bbe53=_0x3d3d0c;else throw new AppError_1[(_0x2b03ce(0x120))](_0x441e13['message']);}const _0x3f92e7={};_0x3f92e7[_0x2b03ce(0xae)]=_0x299f17;const _0x33a505={};_0x33a505['where']=_0x3f92e7;const _0x15fd38=await Whatsapp_1[_0x2b03ce(0x120)][_0x2b03ce(0x10a)](_0x33a505);isDefault=_0x30d0ad[_0x2b03ce(0x162)](channel,'whatsapp')?!_0x15fd38:![];let _0x52c1ee=null;if(channel===_0x30d0ad[_0x2b03ce(0x100)]&&isDefault){const _0x50f9a9={};_0x50f9a9['isDefault']=!![],_0x50f9a9[_0x2b03ce(0xae)]=_0x299f17,_0x50f9a9[_0x2b03ce(0x144)]=channel;const _0x2fc785={};_0x2fc785['where']=_0x50f9a9,_0x52c1ee=await Whatsapp_1[_0x2b03ce(0x120)][_0x2b03ce(0x10a)](_0x2fc785);if(_0x52c1ee){const _0x50c487={};_0x50c487[_0x2b03ce(0x124)]=![],_0x50c487[_0x2b03ce(0xae)]=_0x299f17,await _0x52c1ee[_0x2b03ce(0x12a)](_0x50c487);}}if(queueIds[_0x2b03ce(0xd2)]>0x1&&!_0x2535cf)throw new AppError_1[(_0x2b03ce(0x120))](_0x2b03ce(0xe3));if(_0x30d0ad[_0x2b03ce(0x133)](token,null)&&_0x30d0ad[_0x2b03ce(0x133)](token,'')){const _0x442e93=Yup[_0x2b03ce(0x13d)]()[_0x2b03ce(0xcd)]({'token':Yup['string']()[_0x2b03ce(0xaf)]()[_0x2b03ce(0xef)](0x2)['test'](_0x30d0ad[_0x2b03ce(0xb5)],_0x30d0ad[_0x2b03ce(0xd7)],async _0xb4271c=>{const _0x5d471b=_0x2b03ce;if(!_0xb4271c)return![];const _0x53de2b={};_0x53de2b[_0x5d471b(0x141)]=_0xb4271c,_0x53de2b[_0x5d471b(0x144)]=channel;const _0x533fec={};_0x533fec[_0x5d471b(0x107)]=_0x53de2b;const _0x21a131=await Whatsapp_1[_0x5d471b(0x120)][_0x5d471b(0x10a)](_0x533fec);return!_0x21a131;})});try{if(_0x30d0ad[_0x2b03ce(0xc5)](_0x2b03ce(0xfe),_0x30d0ad['bCXME']))return _0x5907eb[_0x2425fa];else{const _0x45aa4e={};_0x45aa4e['token']=token,await _0x442e93['validate'](_0x45aa4e);}}catch(_0x3811bb){if(_0x30d0ad[_0x2b03ce(0x151)](_0x30d0ad[_0x2b03ce(0x139)],_0x30d0ad[_0x2b03ce(0xac)]))throw new AppError_1[(_0x2b03ce(0x120))](_0x3811bb[_0x2b03ce(0xeb)]);else vwNvvV[_0x2b03ce(0x155)](_0x64e878,0x0);}}const _0x3dfc50={};_0x3dfc50[_0x2b03ce(0x11e)]=_0x1a3431,_0x3dfc50[_0x2b03ce(0xb4)]=status,_0x3dfc50[_0x2b03ce(0x129)]=_0x2535cf,_0x3dfc50[_0x2b03ce(0xb6)]=_0x4b5b9a,_0x3dfc50['complationMessage']=_0x48bf60,_0x3dfc50['outOfHoursMessage']=_0x555151,_0x3dfc50[_0x2b03ce(0x12f)]=_0xe7bd7c,_0x3dfc50[_0x2b03ce(0x124)]=isDefault,_0x3dfc50['companyId']=_0x299f17,_0x3dfc50['token']=token,_0x3dfc50['provider']=provider,_0x3dfc50[_0x2b03ce(0x144)]=channel,_0x3dfc50[_0x2b03ce(0x10d)]=_0x4e0250,_0x3dfc50[_0x2b03ce(0x116)]=_0x40936a,_0x3dfc50[_0x2b03ce(0x166)]=_0xfbe1e5,_0x3dfc50[_0x2b03ce(0xf2)]=_0x3991d7,_0x3dfc50['maxUseBotQueues']=_0x2c0e99,_0x3dfc50[_0x2b03ce(0xe9)]=_0x55792b,_0x3dfc50['chatGPTEnabled']=chatGPTEnabled,_0x3dfc50[_0x2b03ce(0xbf)]=typebotEnabled,_0x3dfc50[_0x2b03ce(0x16c)]=n8nEnabled,_0x3dfc50['typingEnabled']=typingEnabled,_0x3dfc50[_0x2b03ce(0x127)]=isActive,_0x3dfc50[_0x2b03ce(0x15e)]=_0x101b9f,_0x3dfc50['integrationId']=_0x1f680a,_0x3dfc50[_0x2b03ce(0xe1)]=isImportModalOpen,_0x3dfc50['typebotCredential']=typebotCredential,_0x3dfc50[_0x2b03ce(0x115)]=n8nCredential,_0x3dfc50[_0x2b03ce(0xb9)]=selectedfila,_0x3dfc50['yesNoValue']=yesNoValue,_0x3dfc50[_0x2b03ce(0x13e)]=minutes;const _0x4d4a51={};_0x4d4a51[_0x2b03ce(0x131)]=['queues'];const _0x24c30b=await Whatsapp_1[_0x2b03ce(0x120)]['create'](_0x3dfc50,_0x4d4a51);await(0x0,AssociateWhatsappQueue_1['default'])(_0x24c30b,queueIds);const _0x4d0d83={};return _0x4d0d83[_0x2b03ce(0x136)]=_0x24c30b,_0x4d0d83[_0x2b03ce(0xf6)]=_0x52c1ee,_0x4d0d83;};exports[a680_0x1f137f(0x120)]=CreateWhatsAppService;function a680_0xa9fb42(_0x22ee1d){const _0x40b3bb=a680_0x1f137f,_0x22270b={'hZTue':function(_0x185e0e,_0x56bcf4){return _0x185e0e===_0x56bcf4;},'FnASb':_0x40b3bb(0xce),'MpqZG':'GPOYh','jHcQY':function(_0x393fa3,_0x3a7ef7){return _0x393fa3!==_0x3a7ef7;},'hwdbf':_0x40b3bb(0x14d),'eGWcb':function(_0x38b503,_0x1ce9c4){return _0x38b503!==_0x1ce9c4;},'jfeMn':_0x40b3bb(0x103),'Aypwc':'GpWeN','xrndI':function(_0x3e1b6c,_0x1d11b2){return _0x3e1b6c===_0x1d11b2;},'wsOcW':'string','KLTTJ':_0x40b3bb(0x168),'qlBCM':function(_0x2da4f7,_0x5450cf){return _0x2da4f7!==_0x5450cf;},'WZAvb':function(_0x363243,_0x116201){return _0x363243+_0x116201;},'VEsVS':function(_0x19a24b,_0x3125aa){return _0x19a24b/_0x3125aa;},'FSRHF':'length','SGJtM':function(_0x1d7f5f,_0x2f855a){return _0x1d7f5f===_0x2f855a;},'wiaEq':function(_0x4e5281,_0x4bee7f){return _0x4e5281%_0x4bee7f;},'Zcutr':'JEBBY','atSCq':function(_0x39bd2b,_0x5df056){return _0x39bd2b+_0x5df056;},'ntigs':_0x40b3bb(0x12b),'vqOvp':_0x40b3bb(0x12d),'SYYGF':_0x40b3bb(0x172),'dmFJr':function(_0x924af1,_0x1fccb1){return _0x924af1+_0x1fccb1;},'NDghO':_0x40b3bb(0x170),'cgIuN':function(_0x2c5df2,_0x5862be){return _0x2c5df2(_0x5862be);},'ZzRRu':'EvRof'};function _0x178338(_0x5a6152){const _0x1173ec=_0x40b3bb,_0xf99f31={};_0xf99f31['NrMXY']=function(_0x1479bc,_0x3c9aec){return _0x1479bc===_0x3c9aec;};const _0x15f0a7=_0xf99f31;if(_0x22270b[_0x1173ec(0xc3)](_0x22270b[_0x1173ec(0x177)],_0x22270b[_0x1173ec(0x159)])){if(_0x22270b[_0x1173ec(0xba)](typeof _0x5a6152,_0x22270b['wsOcW']))return function(_0x370829){}[_0x1173ec(0x152)](_0x1173ec(0xc2))[_0x1173ec(0xe0)](_0x22270b[_0x1173ec(0x146)]);else{if(_0x22270b[_0x1173ec(0x17d)](_0x22270b['WZAvb']('',_0x22270b[_0x1173ec(0x12e)](_0x5a6152,_0x5a6152))[_0x22270b[_0x1173ec(0xa9)]],0x1)||_0x22270b[_0x1173ec(0xdb)](_0x22270b['wiaEq'](_0x5a6152,0x14),0x0)){if(_0x22270b[_0x1173ec(0x16f)](_0x1173ec(0x161),_0x22270b['Zcutr']))(function(){const _0x36d894=_0x1173ec;if(_0x22270b[_0x36d894(0x16f)](_0x22270b['FnASb'],_0x22270b[_0x36d894(0xe4)])){if(_0x1cf42e){const _0x1a11ff=_0xea23ea['apply'](_0x33eae0,arguments);return _0x4c6730=null,_0x1a11ff;}}else return!![];}[_0x1173ec(0x152)](_0x22270b['atSCq'](_0x22270b[_0x1173ec(0x10e)],_0x22270b[_0x1173ec(0x173)]))[_0x1173ec(0xee)](_0x22270b['SYYGF']));else{if(_0x15f0a7[_0x1173ec(0xc1)](_0x4bd509,_0x38591a))_0x3d5a08=_0x28dbfe;_0x411636[_0x50a188]=_0x3f7c90[_0x5e5ad9];}}else(function(){const _0x380e48=_0x1173ec;if(_0x22270b[_0x380e48(0x16b)](_0x22270b[_0x380e48(0x16d)],_0x380e48(0x169)))return![];else throw new _0x5c3c4d[(_0x380e48(0x120))](_0x34d88d[_0x380e48(0xeb)]);}[_0x1173ec(0x152)](_0x22270b[_0x1173ec(0x112)](_0x22270b[_0x1173ec(0x10e)],_0x22270b[_0x1173ec(0x173)]))[_0x1173ec(0xe0)](_0x22270b[_0x1173ec(0xda)]));}_0x22270b['cgIuN'](_0x178338,++_0x5a6152);}else{const _0x4b4320=_0x582251[_0x1173ec(0xe0)](_0x2c4990,arguments);return _0x29e039=null,_0x4b4320;}}try{if(_0x22ee1d)return _0x178338;else{if(_0x22270b[_0x40b3bb(0xf9)]===_0x22270b[_0x40b3bb(0xf9)])_0x22270b[_0x40b3bb(0xed)](_0x178338,0x0);else{const _0x466f46={};_0x466f46[_0x40b3bb(0xd1)]=!![],_0x466f46[_0x40b3bb(0xd0)]=function(){return _0x4cf786[_0x4b80cf];},_0x2ad8a7=_0x466f46;}}}catch(_0x775ba7){}}